(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2268],{84431:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboard",function(){return l(6168)}])},6168:function(e,a,l){"use strict";l.r(a),l.d(a,{__N_SSP:function(){return $},default:function(){return V}});var r=l(97458),n=l(64435),i=l(66807),t=l(33490),s=l(53692),o=l(68757),d=l(7492),u=l(43775),c=l(6677),b=l(65898),x=l.n(b),m=l(52983),v=l(76940),h=l(44578),components_Tab=e=>{let{children:a}=e,{colorMode:l}=(0,h.If)();return(0,r.jsx)(v.O,{_selected:{bg:"orange.300",color:"dark"===l?"black":"text.color"},borderRadius:"full",fontSize:"sm",fontWeight:"bold",children:a})},f=l(53064),p=l(66105),j=l(96834),g=l(76221),y=l(8395),k=l(72751),C=l(30984),S=l(26e3),T=l(54196),z=l(29397),Icons=e=>{let{activeTab:a}=e;return 0===a?(0,r.jsx)(z.Z,{color:"orange.300"}):(0,r.jsx)(T.Z,{color:"red.500"})},w=l(90628),_=l(3917),countries_findCountryByCode=(e,a)=>{let l=a?_.Z:w.Z,r=l.find(a=>a.value===e);return r?r.label:""},B=l(37627),P=l.n(B),A=l(53056),N=l(3780),K=l(75550),O=l(91379),W=l(34813),E=l(8193),L=l(57252),components_BoardSkeleton=()=>{let e=(0,h.ff)("gray.100","gray.600"),a=(0,h.ff)("white","gray.700");return(0,r.jsxs)(O.Tr,{bg:a,children:[(0,r.jsx)(W.Td,{px:{base:1,md:4},minW:{base:"14px",md:"64px"},borderColor:e}),(0,r.jsx)(W.Td,{px:{base:1,md:4},borderColor:e,children:(0,r.jsx)(L.O,{children:(0,r.jsx)(n.xu,{w:6,h:4})})}),(0,r.jsx)(W.Td,{px:{base:1,md:4},borderColor:e,children:(0,r.jsx)(j.s,{})}),(0,r.jsx)(W.Td,{px:{base:1,md:4},w:"25%",borderColor:e,children:(0,r.jsx)(L.O,{children:(0,r.jsx)(n.xu,{w:6,h:4})})}),(0,r.jsx)(W.Td,{display:{base:"none",md:"table-cell"},px:{base:1,md:4},w:"14%",borderColor:e,children:(0,r.jsx)(L.O,{children:(0,r.jsx)(n.xu,{w:6,h:4})})}),(0,r.jsx)(W.Td,{px:{base:1,md:4},borderColor:e,children:(0,r.jsx)(L.O,{children:(0,r.jsx)(n.xu,{w:6,h:4})})}),(0,r.jsx)(W.Td,{px:{base:1,md:4},minW:{base:"14px",md:"44px"},borderColor:e})]})},List=e=>{let{data:a,isGlobal:l,activeTab:n,currentUser:i,currentUserRank:t,loading:s}=e,{i18n:o}=(0,c.$G)("leaderboard"),d="tr"===o.language,u=a.map((e,a)=>({...e,isCurrentUser:!1,rank:a+4}));i&&a.length>0&&t>a.length&&i.isLeaderboardMember&&u.push({...i,isCurrentUser:!0,rank:t});let b=(0,h.ff)("gray.100","gray.600"),x=(0,h.ff)("white","gray.700"),truncateWithDots=(e,a)=>e.length>a?e.slice(0,a)+"...":e;return(0,r.jsx)(A.x,{children:(0,r.jsx)(N.i,{variant:"simple",children:(0,r.jsx)(K.p,{children:s?Array.from({length:20},(e,a)=>({id:a})).map(e=>(0,r.jsx)(components_BoardSkeleton,{},e.id)):u.map((e,a)=>(0,r.jsxs)(O.Tr,{...e.isCurrentUser&&{borderTop:"2px",borderColor:"orange.300"},bg:x,children:[(0,r.jsx)(W.Td,{px:{base:1,md:4},minW:{base:"14px",md:"64px"},borderColor:b}),(0,r.jsx)(W.Td,{px:{base:1,md:4},borderColor:b,children:(0,r.jsx)(k.x,{fontSize:{base:"xs",md:"sm"},fontWeight:"semibold",color:"primary.color",children:e.isCurrentUser?"#".concat(e.rank):"#".concat(a+4)})}),(0,r.jsx)(W.Td,{px:{base:1,md:4},borderColor:b,children:(0,r.jsx)(C.k,{justifyContent:"center",children:(0,r.jsx)(P(),{href:"/@"+e.username,children:(0,r.jsx)(g.q,{name:e.fullName,src:"https://patika-prod.s3.eu-central-1.amazonaws.com/userFiles/".concat(e.username,"/profilePicture")})})})}),(0,r.jsx)(W.Td,{px:{base:1,md:4},w:"25%",borderColor:b,children:(0,r.jsx)(C.k,{justifyContent:"center",children:(0,r.jsx)(k.x,{fontSize:{base:"xs",md:"sm"},fontWeight:"medium",textAlign:"center",color:"text.color",isTruncated:!0,maxW:{base:"100px",md:"initial"},children:(0,r.jsx)(P(),{href:"/@"+e.username,children:e.fullName})})})}),(0,r.jsx)(W.Td,{display:{base:"none",md:"table-cell"},px:{base:1,md:4},w:"14%",borderColor:b,children:(0,r.jsx)(E.u,{label:l?countries_findCountryByCode(e.country,d):e.city,children:(0,r.jsx)(k.x,{fontSize:"sm",color:"text.color",fontWeight:"medium",children:truncateWithDots(l?countries_findCountryByCode(e.country,d):e.city,21)})})}),(0,r.jsx)(W.Td,{px:{base:1,md:4},borderColor:b,children:(0,r.jsxs)(C.k,{alignItems:"center",children:[(0,r.jsx)(Icons,{activeTab:n}),(0,r.jsxs)(k.x,{ml:1,fontSize:"sm",fontWeight:"semibold",children:[(null==e?void 0:e.communityPoints)?"".concat(String(e.communityPoints).padStart(4,"0")):"".concat(String(e.points||0).padStart(4,"0"))," "]})]})}),(0,r.jsx)(W.Td,{px:{base:1,md:4},minW:{base:"14px",md:"44px"},borderColor:b})]},e.username+e.fullName))})})})},Board=e=>{let{rank:a,firstN:l,isGlobal:i,activeTab:t,currentUser:s,loading:o}=e,{i18n:d}=(0,c.$G)("leaderboard"),u="tr"===d.language,b=(0,h.ff)("gray.100","gray.600");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.xu,{borderBottom:"1px solid",borderColor:b,display:"flex",justifyContent:"space-between",px:{sm:2,md:20},children:l.slice(0,3).map((e,a)=>(0,r.jsxs)(n.xu,{p:{base:4,md:6},alignSelf:"flex-end",children:[(0,r.jsxs)(n.xu,{position:"relative",children:[o&&(0,r.jsx)(j.s,{w:{md:24,base:12},h:{md:24,base:12},isLoaded:!o}),!o&&(0,r.jsx)(P(),{href:"/@"+e.username,children:(0,r.jsx)(g.q,{size:{base:"md",md:"xl"},name:e.fullName,src:"https://patika-prod.s3.eu-central-1.amazonaws.com/userFiles/".concat(e.username,"/profilePicture"),cursor:"pointer"})}),(0,r.jsx)(n.xu,{position:"absolute",top:"100%",left:"50%",style:{transform:"translate(-50%,-50%)"},children:0===a?(0,r.jsx)(S.NPU,{"data-testid":"first-rank-badge",fontSize:"3xl"}):1===a?(0,r.jsx)(S.V9j,{"data-testid":"second-rank-badge",fontSize:"3xl"}):(0,r.jsx)(S.yBs,{"data-testid":"third-rank-badge",fontSize:"3xl"})})]}),(0,r.jsx)(y.N,{mt:{base:4,md:8},isLoaded:!o}),!o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k.x,{fontWeight:"bold",mt:{base:4,md:8},fontSize:"sm",children:(0,r.jsx)(P(),{href:"/@"+e.username,children:e.fullName})}),(0,r.jsx)(k.x,{mt:1,fontSize:{base:"sm",md:"xs"},children:i?countries_findCountryByCode(e.country,u):e.city}),(0,r.jsxs)(C.k,{mt:3,alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(Icons,{activeTab:t}),(0,r.jsxs)(k.x,{ml:1,fontSize:{base:"sm",md:"md"},fontWeight:"bold",children:[(null==e?void 0:e.communityPoints)?"".concat(String(e.communityPoints).padStart(4,"0")):"".concat(String(e.points||0).padStart(4,"0"))," "]})]})]})]},e.username))}),(0,r.jsx)(n.xu,{children:(0,r.jsx)(List,{loading:o,data:l.slice(3),isGlobal:i,activeTab:t,currentUser:s,currentUserRank:a})})]})},I=l(28207),G=l(72529),M=l(94854);let U="T\xfcrkiye",Z={label:"globalRanking",value:"global"},D={label:"allCountries",value:"global"};var components_Header=e=>{let{refetch:a,usersCount:l,isShowWeeklyBtn:i,activeTimePeriod:t,updateQueryParams:s,setActiveTimePeriod:o,loading:d}=e,{t:u,i18n:b}=(0,c.$G)("leaderboard"),x="tr"===b.language,[v,f]=(0,m.useState)(Z),[p,j]=(0,m.useState)(D),g=(0,h.ff)("gray.400","whiteAlpha.400"),y=(0,h.ff)("gray.700","white"),T=(0,m.useMemo)(()=>v.value===U?[{value:"T\xfcrkiye",label:"allCities"},...M.Z]:x?[{value:"global",label:"allCountries"},..._.Z]:w.Z,[v.value,x]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(C.k,{justifyContent:"space-between",gap:"4",p:"3",flexDirection:{base:"column",md:"row"},children:[(0,r.jsxs)(n.xu,{children:[i&&(0,r.jsx)(I.z,{size:"md",variant:"ghost",onClick:()=>o("week"),_hover:{color:y},_active:{color:y,opacity:.8},color:"week"===t?y:g,children:u("week")}),(0,r.jsx)(I.z,{variant:"ghost",size:"md",onClick:()=>o("all"),_hover:{color:y},_active:{color:y,opacity:.8},color:"all"===t?y:g,children:u("allTimes")})]}),(0,r.jsxs)(C.k,{gap:"2",justifyContent:"space-between",flexDirection:{base:"column",sm:"row"},children:[(0,r.jsx)(n.xu,{children:(0,r.jsx)(G.Z,{name:"country",useBasicStyles:!0,instanceId:(0,m.useId)(),onChange:e=>{let l=e.value===U,r=l?U:"global";f(e),s({board:e.value}),j({value:r,label:l?"allCities":"allCountries"}),a({location:r,board:e.value})},getOptionLabel:e=>u(e.label),value:v,options:[{label:"globalRanking",value:"global"},{label:"turkey",value:U}],size:"sm",w:50})}),(0,r.jsx)(n.xu,{children:(0,r.jsx)(G.Z,{name:"country",useBasicStyles:!0,instanceId:(0,m.useId)(),onChange:e=>{j(e),s({location:e.value}),a({location:e.value,board:v.value})},value:p,getOptionLabel:e=>{let{value:a,label:l}=e;return["global",U].includes(a)?u(l):l},options:T,size:"sm",w:40})})]})]}),(0,r.jsx)(n.xu,{justifyContent:"flex-end",display:"flex",px:"3",children:(0,r.jsxs)(C.k,{alignItems:"center",children:[(0,r.jsx)(S.BY7,{mr:1}),(0,r.jsx)(L.O,{isLoaded:!d,children:(0,r.jsxs)(k.x,{fontWeight:"medium",fontSize:"2xs",children:[l," ",u("attendees")]})})]})})]})};let H={location:"global",board:"global"};var components_CommunityTab=e=>{let{activeTab:a,activeTimePeriod:l,setActiveTimePeriod:i}=e,[t,s]=(0,m.useState)(H),{data:o,loading:d,refetch:u}=(0,f.a)(p.OL,{variables:H,notifyOnNetworkStatusChange:!0});return(0,r.jsxs)(n.xu,{bg:"card.bg",shadow:"lg",w:"100%",h:"100%",borderRadius:"md",children:[(0,r.jsx)(components_Header,{loading:d,isShowWeeklyBtn:!1,activeTimePeriod:l,setActiveTimePeriod:i,updateQueryParams:e=>{s(a=>({...a,...e}))},usersCount:(null==o?void 0:o.communityLeaderboardPositions.usersCount)||0,refetch:u}),(0,r.jsx)(Board,{loading:d,activeTab:a,isGlobal:"global"===t.board,rank:null==o?void 0:o.communityLeaderboardPositions.rank,firstN:(null==o?void 0:o.communityLeaderboardPositions.firstN)||[],currentUser:null==o?void 0:o.communityLeaderboardPositions.currentUser})]})},R=l(99144);let F={location:"global",board:"global"};var components_ProgressTab=e=>{let{activeTab:a,activeTimePeriod:l,setActiveTimePeriod:i}=e,[t,s]=(0,m.useState)(F),{data:o,refetch:d,loading:u}=(0,f.a)(p._D,{notifyOnNetworkStatusChange:!0,variables:F}),[c,{data:b,refetch:x,loading:v}]=(0,R.t)(p.zy,{notifyOnNetworkStatusChange:!0,variables:F});(0,m.useEffect)(()=>{"all"===l&&c({variables:t})},[l]);let h="all"===l?b:o;return(0,r.jsxs)(n.xu,{bg:"card.bg",shadow:"lg",w:"100%",h:"100%",borderRadius:"md",children:[(0,r.jsx)(components_Header,{loading:v||u,isShowWeeklyBtn:!0,activeTimePeriod:l,updateQueryParams:e=>{s(a=>({...a,...e}))},setActiveTimePeriod:i,usersCount:(null==h?void 0:h.leaderboardPositions.usersCount)||0,refetch:"all"===l?x:d}),(0,r.jsx)(Board,{loading:v||u,activeTab:a,isGlobal:"global"===t.board,rank:null==h?void 0:h.leaderboardPositions.rank,firstN:(null==h?void 0:h.leaderboardPositions.firstN)||[],currentUser:null==h?void 0:h.leaderboardPositions.currentUser})]})},Y=l(37932),containers_Leaderboard=()=>{let{t:e}=(0,c.$G)("leaderboard"),[a,l]=(0,m.useState)("week"),[b,v]=(0,m.useState)(0),{data:h}=(0,u.useSession)();return(0,m.useEffect)(()=>{if(null==h?void 0:h.user){var e;Y.n.track(b?"leaderboard-pageview":"leaderboard-community-pageview",{username:null===(e=h.user)||void 0===e?void 0:e.username,url:"/leaderboard"})}},[b,h]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x(),{children:(0,r.jsx)("title",{children:e("leadership")})}),(0,r.jsxs)(n.xu,{m:{base:"auto"},mt:-8,minH:"100vh",as:"section",maxWidth:"800px",children:[(0,r.jsx)(n.xu,{m:{base:"auto"},display:"flex",justifyContent:"center",position:"relative",children:(0,r.jsx)(i.X,{as:"h1",fontSize:"2xl",children:e("leadership")})}),(0,r.jsx)(n.xu,{mt:"5",position:"relative",children:(0,r.jsxs)(t.m,{isLazy:!0,index:b,onChange:e=>v(e),align:"center",variant:"unstyled",children:[(0,r.jsxs)(s.t,{columnGap:"3",children:[(0,r.jsx)(components_Tab,{children:e("progressPoint")}),(0,r.jsx)(components_Tab,{children:e("communityPoint")})]}),(0,r.jsxs)(o.n,{pt:"8",children:[(0,r.jsx)(d.x,{p:"0",children:(0,r.jsx)(components_ProgressTab,{activeTimePeriod:a,setActiveTimePeriod:l,activeTab:b})}),(0,r.jsx)(d.x,{p:"0",children:(0,r.jsx)(components_CommunityTab,{activeTimePeriod:a,setActiveTimePeriod:l,activeTab:b})})]})]})})]})]})};containers_Leaderboard.isHideBreadcrumbs=!0;var $=!0,V=containers_Leaderboard},94854:function(e,a){"use strict";a.Z=[{value:"Adana",label:"Adana"},{value:"Adıyaman",label:"Adıyaman"},{value:"Afyonkarahisar",label:"Afyonkarahisar"},{value:"Ağrı",label:"Ağrı"},{value:"Aksaray",label:"Aksaray"},{value:"Amasya",label:"Amasya"},{value:"Ankara",label:"Ankara"},{value:"Antalya",label:"Antalya"},{value:"Ardahan",label:"Ardahan"},{value:"Artvin",label:"Artvin"},{value:"Aydın",label:"Aydın"},{value:"Balıkesir",label:"Balıkesir"},{value:"Bartın",label:"Bartın"},{value:"Batman",label:"Batman"},{value:"Bayburt",label:"Bayburt"},{value:"Bilecik",label:"Bilecik"},{value:"Bing\xf6l",label:"Bing\xf6l"},{value:"Bitlis",label:"Bitlis"},{value:"Bolu",label:"Bolu"},{value:"Burdur",label:"Burdur"},{value:"Bursa",label:"Bursa"},{value:"\xc7anakkale",label:"\xc7anakkale"},{value:"\xc7ankırı",label:"\xc7ankırı"},{value:"\xc7orum",label:"\xc7orum"},{value:"Denizli",label:"Denizli"},{value:"Diyarbakır",label:"Diyarbakır"},{value:"D\xfczce",label:"D\xfczce"},{value:"Edirne",label:"Edirne"},{value:"Elazığ",label:"Elazığ"},{value:"Erzincan",label:"Erzincan"},{value:"Erzurum",label:"Erzurum"},{value:"Eskişehir",label:"Eskişehir"},{value:"Gaziantep",label:"Gaziantep"},{value:"Giresun",label:"Giresun"},{value:"G\xfcm\xfcşhane",label:"G\xfcm\xfcşhane"},{value:"Hakk\xe2ri",label:"Hakk\xe2ri"},{value:"Hatay",label:"Hatay"},{value:"Iğdır",label:"Iğdır"},{value:"Isparta",label:"Isparta"},{value:"İstanbul",label:"İstanbul"},{value:"İzmir",label:"İzmir"},{value:"Kahramanmaraş",label:"Kahramanmaraş"},{value:"Karab\xfck",label:"Karab\xfck"},{value:"Karaman",label:"Karaman"},{value:"Kars",label:"Kars"},{value:"Kastamonu",label:"Kastamonu"},{value:"Kayseri",label:"Kayseri"},{value:"Kilis",label:"Kilis"},{value:"Kırıkkale",label:"Kırıkkale"},{value:"Kırklareli",label:"Kırklareli"},{value:"Kırşehir",label:"Kırşehir"},{value:"Kocaeli",label:"Kocaeli"},{value:"Konya",label:"Konya"},{value:"K\xfctahya",label:"K\xfctahya"},{value:"Malatya",label:"Malatya"},{value:"Manisa",label:"Manisa"},{value:"Mardin",label:"Mardin"},{value:"Mersin",label:"Mersin"},{value:"Muğla",label:"Muğla"},{value:"Muş",label:"Muş"},{value:"Nevşehir",label:"Nevşehir"},{value:"Niğde",label:"Niğde"},{value:"Ordu",label:"Ordu"},{value:"Osmaniye",label:"Osmaniye"},{value:"Rize",label:"Rize"},{value:"Sakarya",label:"Sakarya"},{value:"Samsun",label:"Samsun"},{value:"Şanlıurfa",label:"Şanlıurfa"},{value:"Siirt",label:"Siirt"},{value:"Sinop",label:"Sinop"},{value:"Sivas",label:"Sivas"},{value:"Şırnak",label:"Şırnak"},{value:"Tekirdağ",label:"Tekirdağ"},{value:"Tokat",label:"Tokat"},{value:"Trabzon",label:"Trabzon"},{value:"Tunceli",label:"Tunceli"},{value:"Uşak",label:"Uşak"},{value:"Van",label:"Van"},{value:"Yalova",label:"Yalova"},{value:"Yozgat",label:"Yozgat"},{value:"Zonguldak",label:"Zonguldak"}]},65898:function(e,a,l){e.exports=l(23846)},8395:function(e,a,l){"use strict";l.d(a,{N:function(){return SkeletonText}});var r=l(57252),n=l(93657),i=l(22404),t=l(19938),s=l(97458),SkeletonText=e=>{let{noOfLines:a=3,spacing:l="0.5rem",skeletonHeight:o="0.5rem",className:d,startColor:u,endColor:c,isLoaded:b,fadeDuration:x,speed:m,variant:v,size:h,colorScheme:f,children:p,...j}=e,g=(0,n.S)("number"==typeof a?[a]:a)||3,y=Array(g).fill(1).map((e,a)=>a+1),getWidth=e=>g>1&&e===y.length?"80%":"100%",k=(0,t.cx)("chakra-skeleton__group",d);return(0,s.jsx)(i.m.div,{className:k,...j,children:y.map((e,a)=>{if(b&&a>0)return null;let n=b?null:{mb:e===y.length?"0":l,width:getWidth(e),height:o};return(0,s.jsx)(r.O,{startColor:u,endColor:c,isLoaded:b,fadeDuration:x,speed:m,variant:v,size:h,colorScheme:f,...n,children:0===a?p:void 0},y.length.toString()+e)})})};SkeletonText.displayName="SkeletonText"},96834:function(e,a,l){"use strict";l.d(a,{s:function(){return SkeletonCircle}});var r=l(57252),n=l(97458),SkeletonCircle=({size:e="2rem",...a})=>(0,n.jsx)(r.O,{borderRadius:"full",boxSize:e,...a});SkeletonCircle.displayName="SkeletonCircle"}},function(e){e.O(0,[2593,9774,2888,179],function(){return e(e.s=84431)}),_N_E=e.O()}]);