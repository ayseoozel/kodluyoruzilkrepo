(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3327],{90198:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return t(99116)}])},99116:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return Y},default:function(){return J}});var r=t(97458),i=t(64435),s=t(30984),o=t(66807),l=t(72751),c=t(22404),a=t(52e3),u=t(53218),d=t(78958),p=t(28207),m=t(54448),j=t(57252),h=t(74311),x=t(52983),f=t(70374),g=t(1303),b=t(76221),v=t(27450),_=t(95523),k=t(10180),modules_handleImageError=e=>{e.target.src="https://patika-prod.s3.eu-central-1.amazonaws.com/staticFiles/favicon.png"},I=t(44578),components_ProjectsListCard=e=>{let{projectName:n,projectLink:t,projectInfo:c,projectImage:a,username:u,course:d}=e,p=(0,_.useRouter)(),m=(0,I.ff)("blue.500","blue.300"),j=(0,I.ff)("blue.500","blue.link");return(0,r.jsxs)(f.Z,{p:0,display:"flex",flexDir:"row",flex:"1",w:"full",borderRadius:"2xl",overflow:"hidden",boxShadow:"md",cursor:"pointer",_hover:{boxShadow:"lg",textDecoration:"none"},as:"a",target:"_blank",href:(0,k.Z_)(t),children:[(0,r.jsxs)(s.k,{flexGrow:1,flex:"1",p:4,pr:3,flexDirection:"column",justifyContent:"space-between",gap:"1",children:[(0,r.jsxs)(g.U,{children:[(0,r.jsx)(b.q,{size:"sm",name:u,src:"https://patika-prod.s3.eu-central-1.amazonaws.com/userFiles/".concat(u,"/profilePicture")}),(0,r.jsx)(l.x,{fontSize:"sm",color:m,_hover:{textDecoration:"underline"},onClick:e=>{e.preventDefault(),p.push("/@".concat(u))},children:u})]}),(0,r.jsxs)(s.k,{flexDirection:"column",gap:"2",mb:"2",children:[(0,r.jsx)(o.X,{wordBreak:"break-all",fontSize:"md",color:"text.color",noOfLines:2,lineHeight:"1.5",children:n}),(null==d?void 0:d.title)&&(0,r.jsx)(l.x,{noOfLines:1,fontSize:"sm",color:j,children:null==d?void 0:d.title})]}),(0,r.jsx)(s.k,{pb:"2",children:(0,r.jsx)(l.x,{lineHeight:4,h:16,fontSize:"sm",wordBreak:"break-word",fontWeight:"medium",color:"text.color",noOfLines:4,children:c})})]}),(0,r.jsx)(i.xu,{w:40,h:52,children:!!a&&(0,r.jsx)(v.E,{flexShrink:0,onError:modules_handleImageError,src:a,alt:"Article cover",h:"full",w:"full",objectFit:"cover"})})]})},P=t(6677),C=t(84145),w=t(86848),S=t(68895),y=t(19938),A=t(43028),N=(0,A.G)(function(e,n){let{children:t,placeholder:i,className:s,...o}=e;return(0,r.jsxs)(c.m.select,{...o,ref:n,className:(0,y.cx)("chakra-select",s),children:[i&&(0,r.jsx)("option",{value:"",children:i}),t]})});N.displayName="SelectField";var $=t(95706),O=t(90365),L=t(93141),z=(0,A.G)((e,n)=>{var t;let i=(0,O.jC)("Select",e),{rootProps:s,placeholder:o,icon:l,color:a,height:u,h:d,minH:p,minHeight:m,iconColor:j,iconSize:h,...x}=(0,L.Lr)(e),[f,g]=function(e,n){let t={},r={};for(let[i,s]of Object.entries(e))n.includes(i)?t[i]=s:r[i]=s;return[t,r]}(x,L.oE),b=(0,$.Y)(g),v={paddingEnd:"2rem",...i.field,_focus:{zIndex:"unset",...null==(t=i.field)?void 0:t._focus}};return(0,r.jsxs)(c.m.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:a},...f,...s,children:[(0,r.jsx)(N,{ref:n,height:null!=d?d:u,minH:null!=p?p:m,placeholder:o,...b,__css:v,children:e.children}),(0,r.jsx)(SelectIcon,{"data-disabled":(0,y.PB)(b.disabled),...(j||a)&&{color:j||a},__css:i.icon,...h&&{fontSize:h},children:l})]})});z.displayName="Select";var DefaultIcon=e=>(0,r.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),D=(0,c.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=e=>{let{children:n=(0,r.jsx)(DefaultIcon,{}),...t}=e,i=(0,x.cloneElement)(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,r.jsx)(D,{...t,className:"chakra-select__icon-wrapper",children:(0,x.isValidElement)(n)?i:null})};SelectIcon.displayName="SelectIcon";var E=t(76220),B=t(54398);let R=(0,B.Z)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);var F=t(80073),G=t(80823);let U=(0,B.Z)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Z=[5,10,20,50,100,200,500],T={color:"text.primary",_hover:{bg:"pagination.button.bg"},size:"sm",variant:"ghost"};var components_Pagination=e=>{let{totalCount:n=0,pageIndex:t=0,pageSize:i,actions:o={allPrevAction:()=>{},prevAction:()=>{},allNextAction:()=>{},nextAction:()=>{}},isDisabledButtons:c={allPrevAction:!1,prevAction:!1,allNextAction:!1,nextAction:!1},onPageSizeChange:a,pageSizes:u=Z}=e,{allPrevAction:p,prevAction:m,allNextAction:j,nextAction:h}=o;return(0,r.jsxs)(s.k,{my:"1rem",alignItems:"center",justifyContent:"space-between",bg:"card.bg",p:"2",borderRadius:"md",children:[(0,r.jsxs)(s.k,{children:[(0,r.jsx)(d.h,{icon:(0,r.jsx)(R,{}),...T,isDisabled:c.allPrevAction,onClick:p}),(0,r.jsx)(d.h,{icon:(0,r.jsx)(F.Z,{}),...T,onClick:m,isDisabled:c.prevAction})]}),(0,r.jsxs)(s.k,{alignItems:"center",gap:"4",children:[(0,r.jsx)(s.k,{fontSize:{base:"xs",md:"md"},children:(0,r.jsxs)(l.x,{whiteSpace:"nowrap",children:[(0,r.jsxs)(l.x,{fontWeight:"bold",as:"span",children:[t*i+1," -"," ",(t+1)*i>=n?n:(t+1)*i]})," ","of ",n]})}),(0,r.jsx)(s.k,{children:(0,r.jsxs)(S.NI,{display:"flex",alignItems:"center",children:[(0,r.jsx)(z,{value:i,size:"sm",borderRadius:"6px",onChange:e=>{a(e.target.value)},children:u.map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsx)(E.l,{ml:"12px",mr:"0",whiteSpace:"nowrap",my:"0px",fontSize:"14px",display:{base:"none",sm:"none",md:"none",lg:"block"},children:"Rows per page"})]})})]}),(0,r.jsxs)(s.k,{gap:{sm:"1rem"},children:[(0,r.jsx)(d.h,{icon:(0,r.jsx)(G.Z,{}),...T,onClick:h,isDisabled:c.nextAction}),(0,r.jsx)(d.h,{icon:(0,r.jsx)(U,{}),...T,onClick:j,isDisabled:c.allNextAction})]})]})},q=t(22079),H=t(99144),W=t(53064),X=t(80824),M=t(29649),Q=t(65898),V=t.n(Q),components_ProjectsList=e=>{var n;let{data:t}=e,f=(0,x.useRef)(!0),{t:g}=(0,P.$G)("projects"),[b,v]=(0,x.useState)(t),[_,{loading:I}]=(0,H.t)(X.jL,{notifyOnNetworkStatusChange:!0}),{control:S,handleSubmit:y,getValues:A,watch:N}=(0,w.cI)({defaultValues:{course:{value:void 0,label:g("all")}}}),$=N("course"),[O,L]=(0,x.useState)(1),[z,D]=(0,x.useState)(10),{data:E}=(0,W.a)(M.IU),handleSearch=e=>{var n;let t=O;(e.course.value||e.search)&&(t=1,L(1)),_({variables:{limit:z,skip:z*(t-1),isList:!0,search:e.search,courseId:null==e?void 0:null===(n=e.course)||void 0===n?void 0:n.value,includeCourse:!0},onCompleted:e=>{let{getUserProjects:n}=e;v(n)}})};return(0,x.useEffect)(()=>{L(1)},[z]),(0,x.useEffect)(()=>{f.current||handleSearch(A()),f.current=!1},[O,z,$]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(V(),{children:[(0,r.jsx)("title",{children:g("projects")}),(0,r.jsx)("meta",{name:"description",content:g("pageDescription")})]}),(0,r.jsxs)(i.xu,{mt:-8,children:[(0,r.jsxs)(s.k,{flexWrap:"wrap",gap:"4",justifyContent:"space-between",children:[(0,r.jsx)(i.xu,{children:(0,r.jsx)(o.X,{as:"h1",fontSize:"2xl",children:g("projects")})}),(0,r.jsx)(s.k,{order:{base:3,lg:4},flexBasis:"100%",children:(0,r.jsx)(l.x,{children:g("pageDescription")})}),(0,r.jsxs)(s.k,{onSubmit:y(handleSearch),as:c.m.form,flex:"1",flexBasis:{base:"100%",lg:"auto"},justifyContent:"flex-end",alignItems:{base:"flex-end",lg:"initial"},flexDirection:{base:"column",lg:"row"},gap:"4",order:{base:3,lg:2},children:[(0,r.jsxs)(a.B,{size:"md",maxW:{base:"100%",lg:"200px"},children:[(0,r.jsx)(q.Z,{placeholder:"Search",name:"search",control:S}),(0,r.jsx)(u.x,{children:(0,r.jsx)(d.h,{variant:"link",icon:(0,r.jsx)(h.Z,{size:"18"}),type:"submit"})})]}),(0,r.jsx)(k.vk,{placeholder:g("filterCourse"),"data-testid":"course-select",control:S,name:"course",options:[{value:void 0,label:g("all")},...(null==E?void 0:E.courses.map(e=>({label:e.title,value:e._id})))||[]],bodyStyles:{maxW:{base:"100%",lg:"200px"}}})]}),(0,r.jsx)(s.k,{justifyContent:"flex-end",order:{base:2,lg:3},children:(0,r.jsx)(p.z,{colorScheme:"blue",variant:"outline",ml:"auto",as:C.Z,href:"/profile/projects",sx:{textDecoration:"none","&:hover":{textDecoration:"none"}},children:g("editProjects")})})]}),(0,r.jsx)(m.r,{my:6,gridTemplateColumns:{base:"repeat(1, 1fr)",lg:"repeat(2, 1fr)"},gap:"4",children:I?Array.from({length:z}).map((e,n)=>(0,r.jsx)(j.O,{h:52},n)):null==b?void 0:null===(n=b.data)||void 0===n?void 0:n.map(e=>(0,r.jsx)(components_ProjectsListCard,{...e},e._id))}),(0,r.jsx)(components_Pagination,{onPageSizeChange:e=>{D(Number(e))},totalCount:null==b?void 0:b.totalCount,pageIndex:O-1,pageSize:z,actions:{allPrevAction:()=>{L(1)},prevAction:()=>{L(O-1)},allNextAction:()=>{L(Math.ceil((null==b?void 0:b.totalCount)/z))},nextAction:()=>{L(O+1)}},isDisabledButtons:{allPrevAction:1===O,prevAction:1===O,allNextAction:z*O>=(null==b?void 0:b.totalCount),nextAction:z*O>=(null==b?void 0:b.totalCount)}})]})]})};components_ProjectsList.isHideBreadcrumbs=!0;var Y=!0,J=components_ProjectsList},22079:function(e,n,t){"use strict";var r=t(97458),i=t(68895),s=t(76220),o=t(22404),l=t(52e3),c=t(1394),a=t(53218),u=t(7881),d=t(67045),p=t(52983),m=t(86848);n.Z=e=>{let{name:n,size:t,label:j,rules:h,control:x,helperText:f,placeholder:g,labelProps:b,inputLeftAddon:v,inputRightAddon:_,preValidateHook:k,inputLeftElement:I,inputRightElement:P,defaultValue:C="",isPreValidationEnabled:w,bodyStyles:S,isRequired:y,isDisabled:A=!1,countActive:N,currentCount:$,maxLength:O,...L}=e,{fieldState:{error:z},field:{onChange:D,onBlur:E,value:B,ref:R}}=(0,m.bc)({name:n,rules:h,control:x,defaultValue:C}),F=(0,p.useCallback)(e=>D(w?k(e):e),[w,D,k]),G=h&&"required"in h;return(0,r.jsxs)(i.NI,{...S,isInvalid:z,ref:R,isDisabled:A,children:[j&&(0,r.jsxs)(s.l,{htmlFor:n,...b,children:[j," ",G&&(0,r.jsx)(o.m.span,{color:"red.500",children:"*"})]}),(0,r.jsxs)(l.B,{size:t,...L,children:[v&&(0,r.jsx)(c.Ui,{children:v}),I&&(0,r.jsx)(a.Z,{children:I}),(0,r.jsx)(u.I,{ref:R,name:n,value:B,onBlur:E,bg:"bg-input",isDisabled:A,onChange:F,placeholder:g}),_&&(0,r.jsx)(c.xW,{children:v}),P&&(0,r.jsx)(a.x,{children:P})]}),z&&(0,r.jsx)(d.J1,{children:z.message}),!z&&f&&(0,r.jsx)(i.Q6,{children:f}),N&&(0,r.jsx)(i.Q6,{position:"absolute",top:0,right:0,children:"".concat($,"/").concat(O)})]})}},87979:function(e,n,t){"use strict";t.d(n,{C:function(){return s}});var r=t(5079),i=t(94110);function _templateObject(){let e=(0,r._)(["\n  fragment UserProjectAttributes on UserProject {\n    _id\n    userId\n    username\n    projectName\n    projectLink\n    projectInfo\n    projectImage\n    isProjectPublic\n    createdAt\n    updatedAt\n    sourceURL\n    extraContentId\n    courseId\n  }\n"]);return _templateObject=function(){return e},e}let s=(0,i.Ps)(_templateObject())},80824:function(e,n,t){"use strict";t.d(n,{jL:function(){return o}});var r=t(5079),i=t(94110),s=t(87979);function _templateObject(){let e=(0,r._)(["\n  query publicProjects(\n    $perPage: Int\n    $dateToCheck: String\n    $searchInput: String\n    $selectInput: String\n  ) {\n    publicProjects(\n      perPage: $perPage\n      dateToCheck: $dateToCheck\n      searchInput: $searchInput\n      selectInput: $selectInput\n    ) {\n      userProjects {\n        _id\n        username\n        projectName\n        projectLink\n        projectInfo\n        projectImage\n        isProjectPublic\n        createdAt\n        updatedAt\n        courseId\n      }\n      total\n    }\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n  query userProjectsForProfile($username: String) {\n    userProjectsForProfile(username: $username) {\n      userProjects {\n        _id\n        courseId\n        username\n        projectName\n        projectLink\n        projectInfo\n        projectImage\n        isProjectPublic\n        createdAt\n        reviewHistory {\n          point\n        }\n      }\n    }\n  }\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,r._)(["\n  query randomOrReviewedUserProjects($courseId: String!, $extraContentId: String!) {\n    randomOrReviewedUserProjects(courseId: $courseId, extraContentId: $extraContentId) {\n      userProjects {\n        _id\n        projectName\n        projectLink\n        projectInfo\n        projectImage\n        reviewHistory {\n          point\n        }\n      }\n    }\n  }\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,r._)(["\n  ","\n  query getUserProjects(\n    $username: String\n    $limit: Int\n    $skip: Int\n    $isPublic: Boolean\n    $search: String\n    $isList: Boolean\n    $courseId: String\n    $includeCourse: Boolean\n  ) {\n    getUserProjects(\n      username: $username\n      limit: $limit\n      skip: $skip\n      isPublic: $isPublic\n      search: $search\n      isList: $isList\n      courseId: $courseId\n      includeCourse: $includeCourse\n    ) {\n      data {\n        ...UserProjectAttributes\n        course {\n          title\n        }\n      }\n      totalCount\n    }\n  }\n"]);return _templateObject3=function(){return e},e}(0,i.Ps)(_templateObject()),(0,i.Ps)(_templateObject1()),(0,i.Ps)(_templateObject2());let o=(0,i.Ps)(_templateObject3(),s.C)},65898:function(e,n,t){e.exports=t(23846)},27450:function(e,n,t){"use strict";t.d(n,{E:function(){return c}});var r=t(43028),i=t(97458),s=(0,r.G)(function(e,n){let{htmlWidth:t,htmlHeight:r,alt:s,...o}=e;return(0,i.jsx)("img",{width:t,height:r,ref:n,alt:s,...o})});s.displayName="NativeImage";var o=t(46605),l=t(22404),c=(0,r.G)(function(e,n){let{fallbackSrc:t,fallback:r,src:c,srcSet:a,align:u,fit:d,loading:p,ignoreFallback:m,crossOrigin:j,fallbackStrategy:h="beforeLoadOrError",referrerPolicy:x,...f}=e,g=null!=p||m||!(void 0!==t||void 0!==r),b=(0,o.d)({...e,crossOrigin:j,ignoreFallback:g}),v=(0,o.z)(b,h),_={ref:n,objectFit:d,objectPosition:u,...g?f:function(e,n=[]){let t=Object.assign({},e);for(let e of n)e in t&&delete t[e];return t}(f,["onError","onLoad"])};return v?r||(0,i.jsx)(l.m.img,{as:s,className:"chakra-image__placeholder",src:t,..._}):(0,i.jsx)(l.m.img,{as:s,src:c,srcSet:a,crossOrigin:j,loading:p,referrerPolicy:x,className:"chakra-image",..._})});c.displayName="Image"},54448:function(e,n,t){"use strict";t.d(n,{r:function(){return o}});var r=t(43028),i=t(22404),s=t(97458),o=(0,r.G)(function(e,n){let{templateAreas:t,gap:r,rowGap:o,columnGap:l,column:c,row:a,autoFlow:u,autoRows:d,templateRows:p,autoColumns:m,templateColumns:j,...h}=e;return(0,s.jsx)(i.m.div,{ref:n,__css:{display:"grid",gridTemplateAreas:t,gridGap:r,gridRowGap:o,gridColumnGap:l,gridAutoColumns:m,gridColumn:c,gridRow:a,gridAutoFlow:u,gridAutoRows:d,gridTemplateRows:p,gridTemplateColumns:j},...h})});o.displayName="Grid"}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=90198)}),_N_E=e.O()}]);