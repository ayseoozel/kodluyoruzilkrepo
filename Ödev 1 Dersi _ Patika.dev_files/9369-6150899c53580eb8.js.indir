(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9369],{77265:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return d}});var o=n(97458);n(52983);var l=n(36011),i=n.n(l),s=n(44578),r=n(96394),a=n(6677);let NotFoundPage=()=>{let{colorMode:e}=(0,s.If)(),{t}=(0,a.$G)("common");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.Z,{isNotFound:!0,title:"404",description:t("404Description"),contentType:"404",updated:null,published:null}),(0,o.jsx)(i(),{statusCode:404,withDarkMode:"dark"===e})]})};NotFoundPage.isHideBreadcrumbs=!0;var d=!0;t.default=NotFoundPage},67822:function(e,t,n){"use strict";var o=n(97458),l=n(68895),i=n(76220),s=n(6062),r=n(67045),a=n(52983),d=n(86848);t.Z=e=>{let{name:t,size:n,label:c,rules:m,control:u,helperText:h,isRequired:x,placeholder:p,labelProps:f,inputLeftAddon:g,inputRightAddon:b,preValidateHook:v,inputLeftElement:j,inputRightElement:C,defaultValue:_="",isPreValidationEnabled:S,...k}=e,{fieldState:{error:A},field:{onChange:w,onBlur:y,value:D,ref:z}}=(0,d.bc)({name:t,rules:m,control:u,defaultValue:_}),$=(0,a.useCallback)(e=>w(S?v(e):e),[S,w,v]);return(0,o.jsxs)(l.NI,{isRequired:x,isInvalid:A,ref:z,children:[c&&(0,o.jsx)(i.l,{htmlFor:t,...f,children:c}),(0,o.jsx)(s.g,{ref:z,name:t,value:D,onBlur:y,bg:"bg-input",onChange:$,placeholder:p,...k}),A&&(0,o.jsx)(r.J1,{children:A.message}),!A&&h&&(0,o.jsx)(l.Q6,{children:h})]})}},994:function(e,t,n){"use strict";n.d(t,{Z:function(){return components_BlogDetail}});var o=n(97458),l=n(93657),i=n(80430),s=n(30984),r=n(52983),a=n(23537),d=n(54448),c=n(21611),m=n(70374),u=n(55223),h=n(1303),x=n(76221),p=n(28207),f=n(72751),g=n(66807),b=n(71535),v=n(11644),j=n(53064),C=n(6677),_=n(43775),S=n(77837),k=n.n(S),A=n(9673),w=n.n(A),y=n(27860),D=n.n(y),z=n(83658),$=n(5079),O=n(94110);function _templateObject(){let e=(0,$._)(["\n  mutation handleArticleLike($slug: String!, $isUserLiked: Boolean!) {\n    handleArticleLike(slug: $slug, isUserLiked: $isUserLiked) {\n      isLiked\n    }\n  }\n"]);return _templateObject=function(){return e},e}let P=(0,O.Ps)(_templateObject());var I=n(64435),Z=n(84145),N=n(47822),components_BlogAuthor=e=>{var t,n,l,i,d,c,h,g,b,v;let{slug:j,name:S,username:k,author:A,...w}=e,{t:y}=(0,C.$G)("blogs"),{data:D}=(0,_.useSession)(),$=(0,z.useRouter)(),{push:O}=(0,z.useRouter)(),{isOpen:P,onClose:M,onOpen:U}=(0,a.q)(),[F,R]=(0,r.useState)(!1),handleNavigateProfile=(e,t)=>{e.preventDefault(),D?O("/@".concat(t)):(R(!0),U())},handleCloseModal=e=>{M(),D&&$.push("/@".concat(e))};return(0,o.jsx)(m.Z,{...w,py:{base:2,md:6},px:{base:2,md:6},flex:2,children:(0,o.jsxs)(u.e,{h:"full",rounded:"2xl",px:"0",children:[(0,o.jsxs)(s.k,{alignItems:"center",flexDirection:{base:"column",lg:"row"},children:[(0,o.jsx)(x.q,{size:"md",cursor:"pointer",name:S,src:"https://patika-prod.s3.eu-central-1.amazonaws.com/userFiles/".concat(k,"/profilePicture"),mb:2,mr:{base:0,lg:2},onClick:e=>handleNavigateProfile(e,k)}),F&&!D&&(0,o.jsx)(N.Z,{isOpen:P,onClose:handleCloseModal,callback:()=>{$.push("/@".concat(k))}}),(0,o.jsx)(f.x,{fontSize:"lg",color:"text.color",fontWeight:"bold",variant:"link",cursor:"pointer",_hover:{textDecoration:"none"},onClick:e=>handleNavigateProfile(e,k),children:S}),F&&!D&&(0,o.jsx)(N.Z,{isOpen:P,onClose:handleCloseModal,callback:()=>{$.push("/@".concat(k))}})]}),(0,o.jsxs)(Z.Z,{href:"/@".concat(k),children:[(0,o.jsx)(p.z,{mt:3,mb:2,display:"flex","flex-direction":"row",justifyContent:"center",gap:8,size:"sm",fontSize:{base:"xs",lg:"sm"},w:"full",_hover:{textDecoration:"none"},onClick:e=>handleNavigateProfile(e,k),children:y("visitProfile")}),F&&!D&&(0,o.jsx)(N.Z,{isOpen:P,onClose:handleCloseModal,callback:()=>{$.push("/@".concat(k))}})]}),(null==A?void 0:null===(t=A.resume)||void 0===t?void 0:t.bio)&&(0,o.jsx)(f.x,{lineHeight:"short",fontWeight:"medium",fontSize:"sm",children:null==A?void 0:null===(n=A.resume)||void 0===n?void 0:n.bio}),(0,o.jsxs)(s.k,{direction:"column",align:"flex-start",gap:2,fontSize:"sm",fontWeight:"medium",children:[(0,o.jsxs)(I.xu,{alignItems:"flex-start",mt:2,d:"flex",children:[(0,o.jsx)(f.x,{fontWeight:"bold",children:y("location")}),(0,o.jsx)(f.x,{mt:"0",children:[null==A?void 0:A.city,null==A?void 0:A.country].filter(e=>e).join(", ")})]}),(null==A?void 0:null===(i=A.resume)||void 0===i?void 0:null===(l=i.education)||void 0===l?void 0:l.length)>0&&(0,o.jsxs)(I.xu,{align:"flex-start",d:"flex",fontSize:"sm",children:[(0,o.jsx)(f.x,{fontWeight:"bold",children:y("education")}),null==A?void 0:null===(c=A.resume)||void 0===c?void 0:null===(d=c.education)||void 0===d?void 0:d.map(e=>(0,o.jsxs)(f.x,{children:[null==e?void 0:e.major," - ",null==e?void 0:e.schoolName]},e.major))]}),(null==A?void 0:null===(g=A.resume)||void 0===g?void 0:null===(h=g.work)||void 0===h?void 0:h.length)>0&&(0,o.jsxs)(I.xu,{align:"flex-start",d:"flex",fontSize:"sm",children:[(0,o.jsx)(f.x,{fontWeight:"bold",children:y("work")}),null==A?void 0:null===(v=A.resume)||void 0===v?void 0:null===(b=v.work)||void 0===b?void 0:b.map(e=>(0,o.jsxs)(f.x,{children:[null==e?void 0:e.position," - ",null==e?void 0:e.companyName]},(null==e?void 0:e.companyName)+(null==e?void 0:e.position)))]})]})]})})},M=n(36742);function ArticleLikes_templateObject(){let e=(0,$._)(["\n  query articleLikes($slug: String!) {\n    articleLikes(slug: $slug) {\n      isUserLiked\n      likeCount\n    }\n  }\n"]);return ArticleLikes_templateObject=function(){return e},e}let U=(0,O.Ps)(ArticleLikes_templateObject());var F=n(44578),R=n(61352),L=n(92547),W=n(66430),G=n(23269);function ArticleComments_templateObject(){let e=(0,$._)(["\n  ","\n  mutation addArticleComment($slug: String!, $comment: String!) {\n    comment: addArticleComment(slug: $slug, comment: $comment) {\n      ...ArticleCommentsAttributes\n    }\n  }\n"]);return ArticleComments_templateObject=function(){return e},e}function _templateObject1(){let e=(0,$._)(["\n  mutation removeArticleComment($_id: String!) {\n    removeArticleComment(_id: $_id) {\n      _id\n    }\n  }\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,$._)(["\n  mutation updateArticleCommentUpvote($_id: String!, $shouldAdd: Boolean!) {\n    upvotes: updateArticleCommentUpvote(_id: $_id, shouldAdd: $shouldAdd)\n  }\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,$._)(["\n  mutation updateArticleCommentReport($_id: String!, $shouldAdd: Boolean!) {\n    reports: updateArticleCommentReport(_id: $_id, shouldAdd: $shouldAdd)\n  }\n"]);return _templateObject3=function(){return e},e}let q=(0,O.Ps)(ArticleComments_templateObject(),G.j),B=(0,O.Ps)(_templateObject1()),E=(0,O.Ps)(_templateObject2()),Y=(0,O.Ps)(_templateObject3());var Q=n(26e3),H=n(22404),T=n(86848),J=n(67822),CommentsCard_CommentFrom=e=>{let{addComment:t,loading:n}=e,{data:l}=(0,_.useSession)(),{t:i}=(0,C.$G)(["common","blogs"]),d=(0,F.ff)("white","gray.700"),{control:c,handleSubmit:m,formState:u,reset:h}=(0,T.cI)(),{isOpen:x,onClose:f,onOpen:g}=(0,a.q)(),[b,v]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{u.isSubmitted&&u.isSubmitSuccessful&&(h(),v(!l),l&&f())},[u.isSubmitted,u.isSubmitSuccessful,h,l,f]),(0,o.jsxs)(I.xu,{px:{base:2,md:4},onSubmit:m(t),mt:4,as:H.m.form,children:[(0,o.jsx)(J.Z,{rules:{required:!0},placeholder:i("shareYourQuestion"),control:c,name:"comment",bg:d}),(0,o.jsxs)(s.k,{mb:4,mt:4,justifyContent:"flex-end",children:[(0,o.jsx)(p.z,{"data-testid":"topic-comment-send-button",type:"submit",isLoading:u.isSubmitting||n,isDisabled:u.isSubmitting||!u.isValid||n,onClick:()=>{l?m(t)():(v(!0),g())},children:i("send")}),b&&!l&&(0,o.jsx)(N.Z,{isOpen:x,onClose:f})]})]})},V=n(97279),X=n.n(V),K=n(37932),CommentsCard_Header=e=>{let{slug:t}=e,n=(0,W.p)(),{data:l}=(0,_.useSession)(),{t:i}=(0,C.$G)(["common","blogs"]),[r,{loading:a}]=(0,v.D)(q,{update(e,n){let{data:{comment:o}}=n,{articleComments:{comments:l,totalCount:i}}=e.readQuery({query:R.Gz,variables:{slug:t}});e.writeQuery({query:R.Gz,variables:{slug:t},data:{articleComments:{comments:[{...o,filteredSubComments:null},...l],totalCount:i+1}}})}}),addComment=async e=>{let{comment:o}=e;try{if(!l)return;let e=X()(o.trim());await r({variables:{slug:t,comment:e},onCompleted:()=>{var o;K.n.track("comment-posted",{username:null==l?void 0:null===(o=l.user)||void 0===o?void 0:o.username,comment:{comment:e,pageSource:t}}),n({title:i("success"),description:i("commentAdded"),status:"success",duration:5e3,isClosable:!0})},onError:()=>{}})}catch(e){console.log(e)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.k,{px:{base:2,md:2},alignItems:"center",justifyContent:"space-between",children:(0,o.jsxs)(s.k,{alignItems:"center",children:[(0,o.jsx)(Q.Jky,{fontSize:"xl",mr:3,ml:1}),(0,o.jsxs)(g.X,{fontSize:"xl",children:[" ",i("comments")]})]})}),(0,o.jsx)(CommentsCard_CommentFrom,{addComment:addComment,isLoading:a,isDisabled:a})]})},ee=n(5770),et=n(48419),en=n(78958),eo=n(83429),el=n(79008),ei=n(71914),es=n(50777),er=n(76023),ea=n(10020),ed=n(9296),ec=n(80536),em=n(84346),eu=n(95523),eh=n(65847);function ArticleSubComments_templateObject(){let e=(0,$._)(["\n  ","\n  mutation addArticleSubComment($slug: String!, $comment: String!, $parentCommentId: String!) {\n    subComment: addArticleSubComment(\n      slug: $slug\n      comment: $comment\n      parentCommentId: $parentCommentId\n    ) {\n      ...ArticleSubCommentsAttributes\n    }\n  }\n"]);return ArticleSubComments_templateObject=function(){return e},e}function ArticleSubComments_templateObject1(){let e=(0,$._)(["\n  mutation removeArticleSubComment($_id: String!) {\n    removeArticleSubComment(_id: $_id) {\n      _id\n      parentCommentId\n    }\n  }\n"]);return ArticleSubComments_templateObject1=function(){return e},e}function ArticleSubComments_templateObject2(){let e=(0,$._)(["\n  mutation updateArticleSubCommentUpvote($_id: String!, $shouldAdd: Boolean!) {\n    upvotes: updateArticleSubCommentUpvote(_id: $_id, shouldAdd: $shouldAdd)\n  }\n"]);return ArticleSubComments_templateObject2=function(){return e},e}function ArticleSubComments_templateObject3(){let e=(0,$._)(["\n  mutation updateArticleSubCommentReport($_id: String!, $shouldAdd: Boolean!) {\n    reports: updateArticleSubCommentReport(_id: $_id, shouldAdd: $shouldAdd)\n  }\n"]);return ArticleSubComments_templateObject3=function(){return e},e}let ex=(0,O.Ps)(ArticleSubComments_templateObject(),eh.d),ep=(0,O.Ps)(ArticleSubComments_templateObject1()),ef=(0,O.Ps)(ArticleSubComments_templateObject2()),eg=(0,O.Ps)(ArticleSubComments_templateObject3());var modules_profilePictureForUser=e=>e?"https://patika-prod.s3.eu-central-1.amazonaws.com/userFiles/".concat(e,"/profilePicture"):null,CommentsCard_Comment=e=>{var t;let{data:n,isSubComment:l}=e,{data:i}=(0,_.useSession)(),d=(0,eu.useRouter)(),c=(0,r.useRef)(),m=(0,W.p)(),u=(0,F.ff)("blue.500","blue.300"),[h,g]=(0,r.useState)((null==n?void 0:null===(t=n.upvotes)||void 0===t?void 0:t.length)||0),[b,j]=(0,r.useState)(),[S,A]=(0,r.useState)(),[w,y]=(0,r.useState)(!1),{isOpen:z,onOpen:$,onClose:O}=(0,a.q)();(0,r.useEffect)(()=>{var e,t,o;let l=null==i?void 0:null===(e=i.user)||void 0===e?void 0:e.username;if(!n||!l)return;let s=null==n?void 0:null===(t=n.upvotes)||void 0===t?void 0:t.includes(l),r=null==n?void 0:null===(o=n.reports)||void 0===o?void 0:o.includes(l);j(s),A(r),y((null==n?void 0:n.username)===l)},[n,i]);let[P,{loading:I}]=(0,v.D)(B,{refetchQueries:["articleComments"]}),[Z]=(0,v.D)(E),[N]=(0,v.D)(Y),[M]=(0,v.D)(ep,{refetchQueries:["articleComments"]}),[U]=(0,v.D)(ef),[R]=(0,v.D)(eg),{t:L}=(0,C.$G)("blogs"),onDeleteComment=async()=>{try{if(O(),!i)return;l?await M({variables:{_id:n._id},onCompleted:()=>{m({title:L("success"),description:L("commentSuccessfullyRemoved"),status:"success",duration:5e3,isClosable:!0})},onError:()=>{}}):await P({variables:{_id:n._id},onCompleted:()=>{m({title:L("success"),description:L("commentSuccessfullyRemoved"),status:"success",duration:5e3,isClosable:!0})},onError:()=>{}})}catch(e){console.log(e)}},G=(0,r.useMemo)(()=>k()(async(e,t,n)=>{if(n){await U({variables:{_id:e,shouldAdd:t}});return}await Z({variables:{_id:e,shouldAdd:t},onCompleted:()=>{},onError:()=>{}})},2e3),[Z,U]),q=(0,r.useMemo)(()=>k()(async(e,t,n)=>{if(n){await R({variables:{_id:e,shouldAdd:t}});return}await N({variables:{_id:e,shouldAdd:t},onCompleted:()=>{},onError:()=>{}})},2e3),[N,R]);return(0,o.jsxs)(s.k,{children:[(0,o.jsx)(el.a,{isOpen:z,leastDestructiveRef:c,onClose:O,children:(0,o.jsx)(ei.Z,{children:(0,o.jsxs)(el._,{children:[(0,o.jsx)(es.x,{fontSize:"lg",fontWeight:"bold",children:"Delete Comment"}),(0,o.jsx)(er.f,{children:"Are you sure? You can't undo this action afterwards."}),(0,o.jsxs)(ea.m,{children:[(0,o.jsx)(p.z,{ref:c,onClick:O,isDisabled:I,children:"Cancel"}),(0,o.jsx)(p.z,{variant:"danger",onClick:onDeleteComment,ml:3,isLoading:I,isDisabled:I,children:"Delete"})]})]})})}),(0,o.jsx)(s.k,{pt:10,alignItems:"flex-start",children:(0,o.jsxs)(s.k,{alignItems:"center",children:[(0,o.jsx)(en.h,{p:0,w:6,h:6,mr:1,minH:3,minW:3,isDisabled:w,onClick:()=>{j(!b),g(b?h-1:h+1),G(n._id,!b,l)},_hover:w?{}:{bg:"orange.300"},bg:b?"orange.300":"none",color:"text.color",variant:"ghost",borderRadius:"full",children:(0,o.jsx)(ed.Z,{})}),(0,o.jsx)(f.x,{w:12,fontSize:"xs",children:h})]})}),(0,o.jsxs)(s.k,{flexGrow:1,flexDir:"column",children:[(0,o.jsxs)(s.k,{justifyContent:"space-between",alignItems:"center",children:[(0,o.jsx)(f.x,{fontSize:"sm",children:D()(n.createdAt).format("DD.MM.YY")}),w?(0,o.jsx)(en.h,{p:0,fontSize:"sm",color:"text.color",variant:"ghost",borderRadius:"full",onClick:$,icon:(0,o.jsx)(ec.Z,{size:18})}):(0,o.jsx)(en.h,{p:0,fontSize:"sm",color:"text.color",variant:"ghost",borderRadius:"full",onClick:()=>{A(!S),q(n._id,!S,l)},icon:(0,o.jsx)(em.Z,{...S&&{fill:"red",color:"white"},size:18})})]}),(0,o.jsx)(f.x,{fontWeight:"medium",children:n.comment}),(0,o.jsxs)(s.k,{mt:2,alignItems:"center",children:[(0,o.jsx)(x.q,{mr:2,w:7,h:7,src:modules_profilePictureForUser(n.username),name:n.username}),(0,o.jsx)(f.x,{fontSize:"xs",color:u,cursor:"pointer",_hover:{textDecoration:"underline"},onClick:e=>{e.preventDefault(),d.push("/@".concat(n.username))},children:n.username})]})]})]})},CommentsCard_SubComments=e=>{let{data:{filteredSubComments:t=[]}={},parentCommentId:n,slug:l}=e,i=(0,W.p)(),{data:s}=(0,_.useSession)(),{t:a}=(0,C.$G)(["common","blogs"]),[d,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[h]=(0,v.D)(ex,{refetchQueries:["articleComments"]}),onAddSubComment=async e=>{let{comment:t}=e;try{var o;if(!s)return;let e=X()(t.trim());if(e.length>=1e3){i({title:a("error"),description:"Comment is too long",status:"error",duration:5e3,isClosable:!0});return}K.n.track("comment-posted",{unername:null==s?void 0:null===(o=s.user)||void 0===o?void 0:o.username,comment:{comment:e,pageSource:l}}),await h({variables:{slug:l,comment:e,parentCommentId:n},onCompleted:()=>{i({title:a("success"),description:a("commentAdded"),status:"success",duration:5e3,isClosable:!0})},onError:()=>{}})}catch(e){console.log(e)}};return(0,o.jsxs)(I.xu,{ml:20,my:2,children:[d?(0,o.jsx)(CommentsCard_CommentFrom,{addComment:onAddSubComment}):(0,o.jsx)(I.xu,{children:(0,o.jsx)(p.z,{fontSize:"sm",onClick:()=>c(!0),variant:"link",_hover:{textDecoration:"underline"},color:"primary.color",children:a("reply")})}),null==t?void 0:t.slice(0,2).map(e=>(0,o.jsx)(CommentsCard_Comment,{slug:e.slug,data:e,isSubComment:!0},e._id)),m&&(null==t?void 0:t.slice(2).map(e=>(0,o.jsx)(CommentsCard_Comment,{slug:e.slug,data:e,isSubComment:!0},e._id))),(null==t?void 0:t.length)>2&&(0,o.jsx)(et.M,{children:(0,o.jsx)(en.h,{mt:2,variant:"link",icon:(0,o.jsx)(eo.Z,{size:28}),onClick:()=>u(e=>!e)})})]})},CommentsSection=e=>{let{data:t=[],slug:n}=e;return(0,o.jsx)(I.xu,{px:{base:2,md:4},children:t.map((e,l)=>(0,o.jsxs)(I.xu,{mt:3,children:[(0,o.jsx)(CommentsCard_Comment,{slug:n,data:e}),(0,o.jsx)(CommentsCard_SubComments,{slug:e.articleSlug,parentCommentId:e._id,data:e}),t.length-1!==l&&(0,o.jsx)(ee.i,{})]},e._id))})},components_CommentsCard=e=>{var t,n,l;let{slug:i}=e,{data:s}=(0,_.useSession)(),{t:r}=(0,C.$G)(["common","blogs"]),a=(0,F.ff)("blackAlpha.50","gray.700"),{data:d,fetchMore:c,loading:u}=(0,j.a)(R.Gz,{skip:!(null==s?void 0:s.isMeteorTokenReady),variables:{slug:i},fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0});return(0,o.jsxs)(m.Z,{bg:a,w:"full",display:"flex",overflow:"hidden",flexDir:"column",maxHeight:"1300px",py:{base:2,md:2},children:[(0,o.jsx)(CommentsCard_Header,{slug:i}),s?(0,o.jsxs)(I.xu,{flexGrow:1,overflow:"auto",children:[(0,o.jsx)(CommentsSection,{data:null==d?void 0:null===(t=d.articleComments)||void 0===t?void 0:t.comments}),(0,o.jsx)(L.Z,{mt:5,loader:()=>{var e;c({variables:{slug:i,skip:(null==d?void 0:null===(e=d.articleComments)||void 0===e?void 0:e.comments.length)||0},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?{...e,articleComments:{...e.articleComments,comments:[...e.articleComments.comments,...n.articleComments.comments]}}:e}})},loading:u,hasMore:(null==d?void 0:null===(n=d.articleComments)||void 0===n?void 0:n.totalCount)>(null==d?void 0:null===(l=d.articleComments)||void 0===l?void 0:l.comments.length)})]}):(0,o.jsx)(I.xu,{p:4,children:(0,o.jsx)(f.x,{fontSize:"sm",fontWeight:"medium",children:r("blogs:enrollmentRequiredForComment")})})]})},eb=n(680),components_BlogDetailCard=e=>{var t,n;let{article:l={},author:i={}}=e,{t:S}=(0,C.$G)("blogs"),{data:A}=(0,_.useSession)(),[y,$]=(0,r.useState)(!1),[O,I]=(0,r.useState)((null==l?void 0:l.likeCount)||0),[Z,F]=(0,r.useState)(!1),[R]=(0,v.D)(P),{isOpen:L,onClose:W,onOpen:G}=(0,a.q)(),[q,B]=(0,r.useState)(!1),E=(0,z.useRouter)(),{loading:Y}=(0,j.a)(U,{ssr:!1,skip:!(null==A?void 0:A.isMeteorTokenReady)||!(null==l?void 0:l.slug),fetchPolicy:"cache-and-network",variables:{slug:l.slug},onCompleted:e=>{let{articleLikes:t}=e;$(t.isUserLiked),I(t.likeCount)},onError:e=>{console.log(e)}}),Q=(0,r.useMemo)(()=>k()(async(e,t)=>{await R({variables:{slug:e,isUserLiked:t},onCompleted:()=>{},onError:()=>{}})},1e3),[R]),handleLikeMutation=()=>{if(!A){F(!0);return}try{I(y?O-1:O+1),$(!y),Q(l.slug,!y)}catch(e){console.log(e.message)}},handleNavigateProfile=(e,t)=>{e.preventDefault(),A?E.push("/@".concat(t)):(B(!0),G())},handleCloseModal=e=>{W(),A&&E.push("/@".concat(e))},H=(null==A?void 0:null===(t=A.user)||void 0===t?void 0:t.username)===l.authorUsername;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.k,{alignItems:{sm:"center",md:"flex-start"},direction:{sm:"column",md:"row"},flex:"1",mb:8,w:"100%",children:(0,o.jsxs)(d.r,{templateColumns:"repeat(7, 1fr)",gap:4,width:"100%",children:[(0,o.jsxs)(c.P,{colSpan:{sm:7,md:5},w:"100%",children:[(0,o.jsx)(m.Z,{p:2,w:{sm:"full"},rounded:"2xl",mb:4,children:(0,o.jsxs)(u.e,{as:s.k,gap:2,direction:"column",children:[l.image&&(0,o.jsx)(w(),{src:l.image,alt:"Article cover",width:800,height:350,style:{maxHeight:"400px",objectFit:"cover"}}),(0,o.jsxs)(s.k,{mt:2,gap:{base:2,md:4},justify:"space-between",flexDirection:{base:"column",md:"row"},children:[(0,o.jsxs)(h.U,{children:[(0,o.jsx)(x.q,{size:"md",cursor:"pointer",name:l.authorName,onClick:e=>handleNavigateProfile(e,null==l?void 0:l.authorUsername),src:"https://patika-prod.s3.eu-central-1.amazonaws.com/userFiles/".concat(l.authorUsername,"/profilePicture")}),q&&!A&&(0,o.jsx)(N.Z,{isOpen:L,onClose:handleCloseModal,callback:()=>{E.push("/@".concat(l.authorUsername))}}),(0,o.jsxs)(s.k,{flexDirection:"column",children:[(0,o.jsx)(p.z,{fontSize:"sm",color:"text.color",variant:"link",cursor:"pointer",fontWeight:"bold",_hover:{textDecoration:"none"},onClick:e=>handleNavigateProfile(e,null==l?void 0:l.authorUsername),children:l.authorName}),q&&!A&&(0,o.jsx)(N.Z,{isOpen:L,onClose:handleCloseModal,callback:()=>{E.push("/@".concat(l.authorUsername))}}),(0,o.jsx)(s.k,{children:(0,o.jsx)(f.x,{justifyContent:"space-between",fontSize:"sm",color:"#718096",children:D()(l.updatedAt).format("DD.MM.YYYY")})})]})]}),(0,o.jsxs)(h.U,{align:"center",children:[(0,o.jsxs)(s.k,{flexDirection:"column",alignItems:"center",children:[(0,o.jsx)(f.x,{fontSize:"xs",fontWeight:"semibold",color:"purple.500",children:O||0}),(0,o.jsx)(f.x,{fontSize:"xs",fontWeight:"semibold",color:"purple.500",children:S("like")})]}),(0,o.jsxs)(s.k,{flexDirection:"column",alignItems:"center",children:[(0,o.jsx)(f.x,{fontSize:"xs",fontWeight:"semibold",color:"purple.500",children:l.viewCount||0}),(0,o.jsx)(f.x,{fontSize:"xs",fontWeight:"semibold",color:"purple.500",children:S("views")})]}),H&&(0,o.jsx)(eb.Z,{top:2,right:2,zIndex:2,position:"absolute",shouldRedirect:!0,blogId:l._id,blogSlug:l.slug})]})]}),(0,o.jsx)(s.k,{justifyContent:"space-between",children:(0,o.jsx)(g.X,{fontSize:"xl",fontWeight:"bold",children:l.title})}),(0,o.jsx)(M.Z,{children:l.body}),(0,o.jsxs)(s.k,{justify:"space-between",gap:6,align:{base:"flex-start",lg:"center"},flexDirection:{base:"column",lg:"row"},children:[(0,o.jsx)(s.k,{gap:2,align:"baseline",flexWrap:"wrap",children:null==l?void 0:null===(n=l.selectedCourses)||void 0===n?void 0:n.map(e=>(0,o.jsx)(h.U,{mt:2,children:(0,o.jsx)(b.Vp,{size:{base:"md",md:"lg"},variant:"outline",colorScheme:"yellow",textColor:"black",children:(0,o.jsx)(b.Sn,{color:"text.color",children:e.label})})},e.value))}),!H&&(0,o.jsx)(s.k,{justifyContent:"flex-end",width:{base:"full",lg:"auto"},children:(0,o.jsxs)(p.z,{variant:y?"outline-orange":"outline",isLoading:Y,isDisabled:Y,size:{base:"sm",md:"md"},onClick:()=>handleLikeMutation(l.slug,y),children:["\uD83D\uDC4F ",S("thankYou")," +1"]})})]})]})}),(0,o.jsx)(components_CommentsCard,{slug:l.slug})]}),(0,o.jsx)(c.P,{colSpan:{md:2},display:{sm:"none",md:"block"},w:"100%",children:(0,o.jsx)(components_BlogAuthor,{name:l.authorName,username:l.authorUsername,author:i})})]})}),!A&&(0,o.jsx)(N.Z,{isOpen:Z,onClose:()=>{F(!1)}})]})},ev=n(77265),ej=n(96394),components_BlogDetail=e=>{var t,n,a;let{data:d}=e,c=(0,l.S)({base:!0,lg:!1});return((0,r.useEffect)(()=>{var e;(null==d?void 0:null===(e=d.article)||void 0===e?void 0:e.slug)&&fetch("/api/blogs/".concat(d.article.slug,"?blogId=").concat(d.article._id)).then(()=>{})},[]),d)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ej.Z,{title:null==d?void 0:null===(t=d.article)||void 0===t?void 0:t.title,description:null==d?void 0:null===(n=d.article)||void 0===n?void 0:n.body.replace(/<[^>]+>/g,""),image:null==d?void 0:null===(a=d.article)||void 0===a?void 0:a.image}),(0,o.jsx)(i.K,{direction:{sm:"column"},mb:8,alignItems:{sm:"center",md:"flex-start"},children:(0,o.jsx)(s.k,{gap:8,alignItems:"center",justifyContent:c?"center":"flex-start",width:"100%",children:(0,o.jsx)(components_BlogDetailCard,{article:d.article,author:d.author})})})]}):(0,o.jsx)(ev.default,{})}},36011:function(e,t,n){e.exports=n(31250)},24196:function(){},6019:function(){},32096:function(){},95447:function(){}}]);