"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3114],{42756:function(e,l,o){o.d(l,{Z:function(){return s}});var t=o(54398);let s=(0,t.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},21381:function(e,l,o){var t=o(97458),s=o(72529),n=o(44578),r=o(52983);let customFilter=(e,l)=>e.toLocaleLowerCase("tr-TR").includes(null==l?void 0:l.toLocaleLowerCase("tr-TR")),getOptionTextColor=(e,l)=>"dark"===e?"white":l?"white":"text.color",UnControlledSelect=e=>{let{id:l,rules:o,isMulti:a,control:i,name:c="",placeholder:d,colorScheme:u,description:g,isRequired:h,defaultValue:b,options:p=[],isClearable:x=!1,menuPosition:m="absolute",onChange:v,styles:f={},...j}=e,{colorMode:C}=(0,n.If)();return(0,t.jsx)(s.Z,{name:c,isClearable:x,isMulti:a,filterOption:(e,l)=>{var o,t;let{data:s}=e;return(null==j?void 0:j.getOptionLabel)?customFilter(null===(o=j.getOptionLabel(s))||void 0===o?void 0:o.toString(),l):customFilter(null===(t=s.label)||void 0===t?void 0:t.toString(),l)},menuPosition:m,closeMenuOnSelect:!0,onChange:v,defaultValue:b,colorScheme:u,placeholder:d,styles:{menuPortal:e=>({...e,zIndex:9999})},options:p,instanceId:(0,r.useId)(),chakraStyles:{container:e=>({...e,border:"1px",borderRadius:"lg",bg:"dark"===C?"gray.darker":"white",color:"dark"===C?"white":"black",borderColor:"blackAlpha.50",...f.container}),option:(e,l)=>({...e,bg:l.isSelected?"primary.color":"card.bg",_hover:{bg:l.isSelected?"primary.color":"select.option.hover.bg"},color:getOptionTextColor(C,l.isSelected)}),dropdownIndicator:e=>({...e,px:2,bg:"transparent",cursor:"inherit",color:"dark"===C?"white":"gray.800",...f.dropdownIndicator}),indicatorSeparator:e=>({...e,display:"none"})},...j})};UnControlledSelect.displayName="UnControlledSelect",l.Z=UnControlledSelect},60587:function(e,l,o){o.d(l,{Z:function(){return components_BlogList}});var t=o(97458),s=o(30984),n=o(72751),r=o(6677),a=o(52983),i=o(53064),c=o(61352),d=o(92547),u=o(96394),g=o(57252),h=o(43775),b=o(23537),p=o(64435),x=o(70374),m=o(55223),v=o(1303),f=o(76221),j=o(28207),C=o(78132),k=o(66807),S=o(57991),y=o(42756),w=o(59248),B=o(84145),_=o(27860),z=o.n(_),L=o(680),Z=o(83658),D=o(47822),components_BlogCard=e=>{let{article:l={},isOwner:o,isMyBlogs:i}=e,c="/blogs/".concat(o?"my-blogs":"detail","/").concat(l.slug),{push:d}=(0,Z.useRouter)(),{data:u}=(0,h.useSession)(),{isOpen:g,onClose:_,onOpen:M}=(0,b.q)(),[I,A]=(0,a.useState)(!1),U=(0,Z.useRouter)(),{selectedCourses:O}=l,P=(0,a.useMemo)(()=>(null==O?void 0:O.slice(0,5))||[],[O]),{t:N}=(0,r.$G)(["common","blogs","auth"]),handleNavigateProfile=(e,l)=>{e.preventDefault(),u?d("/@".concat(l)):(A(!0),M())},handleCloseModal=e=>{_(),u&&U.push("/@".concat(e))};return(0,t.jsxs)(p.xu,{position:"relative",children:[o&&(0,t.jsx)(L.Z,{top:2,right:2,zIndex:2,position:"absolute",blogId:l._id,blogSlug:l.slug}),(0,t.jsxs)(x.Z,{as:B.Z,href:c,w:"100%",h:"100%",boxShadow:"md",borderRadius:"8px",_hover:{boxShadow:"lg",textDecoration:"none"},children:[(0,t.jsxs)(m.e,{p:"3",pb:"10",children:[(0,t.jsxs)(s.k,{justifyContent:"space-between",alignItems:"center",children:[(0,t.jsxs)(v.U,{spacing:4,children:[(0,t.jsx)(f.q,{size:"sm",name:l.authorName,onClick:e=>handleNavigateProfile(e,null==l?void 0:l.authorUsername),src:"https://patika-prod.s3.eu-central-1.amazonaws.com/userFiles/".concat(l.authorUsername,"/profilePicture")}),I&&!u&&(0,t.jsx)(D.Z,{isOpen:g,onClose:handleCloseModal,callback:()=>{U.push("/@".concat(l.authorUsername))}}),(0,t.jsx)(j.z,{fontSize:"sm",variant:"link",fontWeight:"medium",_hover:{textDecoration:"underline"},onClick:e=>handleNavigateProfile(e,null==l?void 0:l.authorUsername),color:"text.color",children:l.authorName}),I&&!u&&(0,t.jsx)(D.Z,{isOpen:g,onClose:handleCloseModal,callback:()=>{U.push("/@".concat(l.authorUsername))}}),i&&(0,t.jsx)(C.C,{variant:"outline",size:"xs",borderRadius:"0",colorScheme:l.isPublished?"green":"gray",children:N(l.isPublished?"published":"draft")})]}),(0,t.jsx)(n.x,{fontSize:"xs",color:"gray.500",children:z()(l.updatedAt).format("DD-MM-YYYY")})]}),(0,t.jsx)(p.xu,{mt:4,children:(0,t.jsx)(k.X,{fontSize:"lg",fontWeight:"semibold",noOfLines:2,children:l.title})})]}),(0,t.jsxs)(s.k,{px:{base:2,md:2},gap:"2",justifyContent:"space-between",children:[(0,t.jsx)(s.k,{spacing:"0",gap:"2",flex:"5",flexWrap:"wrap",display:{base:"none",md:"flex"},children:P.map(e=>(0,t.jsxs)(C.C,{size:{base:"xs",md:"sm"},onClick:()=>{d("/blogs/".concat(e.value))},children:["# ",e.label]},"".concat(l.id,"-tag").concat(e.value)))}),(0,t.jsxs)(s.k,{gap:4,flex:"1",justifyContent:"flex-end",alignItems:"flex-end",children:[(0,t.jsxs)(v.U,{spacing:1,children:[(0,t.jsx)(S.J,{as:y.Z,fontSize:"md",color:"red.500",_hover:{fill:"red.500"}}),(0,t.jsx)(n.x,{fontSize:"sm",color:"gray.500",children:l.likeCount||0})]}),(0,t.jsxs)(v.U,{spacing:1,children:[(0,t.jsx)(S.J,{as:w.Z,color:"gray.500",fontSize:"md"}),(0,t.jsx)(n.x,{fontSize:"sm",color:"gray.500",children:l.viewCount||0})]})]})]})]})]})},BlogList_BlogListSection=e=>{let{loading:l,articles:o,isMyBlogs:n}=e,{data:r}=(0,h.useSession)(),[i,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{void 0!==window&&c(!0)},[]),(0,t.jsxs)(s.k,{flexDirection:"column",gap:"4",children:[null==o?void 0:o.map(e=>{var l;return(0,t.jsx)(components_BlogCard,{article:e,isOwner:(null==r?void 0:null===(l=r.user)||void 0===l?void 0:l.username)===e.authorUsername,isMyBlogs:n},e._id)}),i&&l?Array.from({length:6}).map((e,l)=>(0,t.jsx)(g.O,{h:52},l)):null]})},M=o(95523),I=o(37627),A=o.n(I),U=o(64011),components_TopicList=e=>{let{topic:l,slug:o,isActive:n}=e;return(0,t.jsx)(s.k,{as:B.Z,href:"/blogs/".concat(o),textDecoration:"none",p:"1.5",...n&&{backgroundColor:"blog.list.selected.bg",fontWeight:"semibold"},borderRadius:"md",cursor:"pointer",_hover:{backgroundColor:"blog.list.selected.bg",textDecoration:"none",fontWeight:"semibold"},children:(0,t.jsx)(U.aV,{m:0,p:0,children:(0,t.jsx)(U.HC,{fontSize:"md",textColor:"text.color",children:l})})})},BlogList_Sidebar=e=>{let{topics:l}=e,o=(0,M.usePathname)(),{data:n}=(0,h.useSession)(),{t:a}=(0,r.$G)("blogs");return(0,t.jsxs)(s.k,{flex:"1",flexDirection:"column",gap:"1",display:{base:"none",lg:"flex"},mt:"16",children:[n&&(0,t.jsx)(k.X,{size:"sm",mb:2,as:A(),href:"/blogs/my-blogs",textDecoration:"none",py:"1.5",..."/blogs/my-blogs"===o&&{backgroundColor:"blog.list.selected.bg",fontWeight:"semibold"},borderRadius:"md",cursor:"pointer",_hover:{backgroundColor:"blog.list.selected.bg",textDecoration:"none",fontWeight:"semibold"},children:a("myBlogs")}),(0,t.jsx)(k.X,{as:"h3",size:"sm",textDecoration:"underline",children:a("topics")}),l.map(e=>(0,t.jsx)(components_TopicList,{slug:e.value,topic:e.label,isActive:o===(e.value?"/blogs/".concat(e.value):"/blogs")},e.id))]})},O=o(66430),P=o(52e3),N=o(7881),R=o(53218),W=o(78958),E=(0,o(97972).I)({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),T=o(11644),Y=o(21381),F=o(49410);let G=[{label:"label.newest",value:{updatedAt:-1}},{label:"label.oldest",value:{updatedAt:1}},{label:"label.mostPopular",value:{likeCount:-1}},{label:"label.mostViews",value:{viewCount:-1}}];var BlogList_Header=e=>{let{query:l,refetch:o,slug:n,isMyBlogs:i,topics:c}=e,d=(0,O.p)(),u=(0,M.useRouter)(),g=(0,M.usePathname)(),{t:b}=(0,r.$G)("blogs"),{data:x}=(0,h.useSession)(),[m,v]=(0,a.useState)({prev:"",current:""}),[f,{loading:C}]=(0,T.D)(F.Gl),S=(0,M.useSearchParams)().get("mostLiked"),[y,w]=(0,a.useState)(S?G[2]:G[0]);(0,a.useEffect)(()=>{v(""),w(S?G[2]:G[0]),l.current={topic:n,search:"",sort:S?G[2].value:G[0].value}},[g]);let handleSortChange=(e,t)=>{w({value:e,label:t}),l.current={...l.current,sort:e},o({topic:n,search:m.current,sort:e})},handleBlogSearch=e=>{let t="Enter"===e.key||"click"===e.type;m.current!==m.prev&&t&&(v({...m,prev:m.current}),l.current={...l.current,search:m.current},i?o({search:m.current,self:!0,sort:y.value}):o({topic:n,search:m.current,sort:y.value}))},handleCreateBlog=async()=>{try{await f({onCompleted:e=>{var l,o;(null==e?void 0:null===(l=e.article)||void 0===l?void 0:l.slug)&&(d({title:b("success"),description:b("blogCreateSuccess"),status:"success",duration:3e3,isClosable:!0}),u.push("/blogs/my-blogs/".concat(null==e?void 0:null===(o=e.article)||void 0===o?void 0:o.slug,"/edit")))},onError:()=>{}})}catch(e){console.log(e)}};return(0,a.useEffect)(()=>{S&&handleSortChange(G[2].value,G[2].label)},[S]),(0,t.jsxs)(p.xu,{children:[(0,t.jsxs)(s.k,{flexDirection:{base:"column",lg:"row"},gap:{base:"4"},children:[(0,t.jsx)(k.X,{as:"h2",fontSize:"2xl",children:b("allBlogs")}),(0,t.jsxs)(s.k,{flex:"1",gap:"5",justifyContent:"flex-end",flexDirection:{base:"column-reverse",lg:"row"},children:[(0,t.jsxs)(P.B,{size:"md",maxW:{base:"100%",lg:"200px"},children:[(0,t.jsx)(N.I,{placeholder:"Search",onChange:e=>v({...m,current:e.target.value}),onKeyDown:handleBlogSearch}),(0,t.jsx)(R.x,{children:(0,t.jsx)(W.h,{size:"sm","aria-label":"Search blog",icon:(0,t.jsx)(E,{}),onClick:handleBlogSearch,isDisabled:m.current===m.prev})})]}),x&&(0,t.jsx)(j.z,{variant:"primary",isDisabled:C,isLoading:C,onClick:handleCreateBlog,children:b("createBlog")})]}),(0,t.jsx)(s.k,{display:{base:"flex",lg:"none"},w:"100%",children:(0,t.jsx)(Y.Z,{options:c,placeholder:b("topics"),onChange:e=>{let{value:l}=e;u.push("blogs/".concat(l))},styles:{container:{width:"100%"}}})})]}),(0,t.jsx)(s.k,{mt:"5",gap:{base:"2",lg:"4"},color:"gray.200",mb:"3",justify:"flex-start",flexWrap:"wrap",children:G.map(e=>(0,t.jsx)(j.z,{size:"sm",variant:"link",textDecoration:"underline",...e.label===y.label&&{fontWeight:"bold"},isActive:e.label===y.label,onClick:()=>handleSortChange(e.value,e.label),children:b(e.label)},e.label))})]})},components_BlogList=e=>{var l,o;let{topics:g,slug:h}=e,b=(0,a.useRef)({}),p="my-blogs"===h,{t:x}=(0,r.$G)(["common","blogs"]),{data:m,refetch:v,fetchMore:f,loading:j}=(0,i.a)(c.Y5,{variables:{...p?{self:!0}:{topic:h}},notifyOnNetworkStatusChange:!0});return(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(u.Z,{title:x("navbar.link.blogs",{ns:"common"}),contentType:"article"}),(0,t.jsxs)(s.k,{mt:-8,gap:"6",children:[(0,t.jsx)(BlogList_Sidebar,{topics:g}),(0,t.jsxs)(s.k,{flexDirection:"column",flex:"4",children:[(0,t.jsx)(BlogList_Header,{query:b,refetch:v,slug:h,isMyBlogs:p,topics:g}),(null==m?void 0:m.blogs.articles.length)===0&&(0,t.jsx)(s.k,{mt:"10px",children:(0,t.jsx)(n.x,{children:x("noBlogsYet",{ns:"blogs"})})}),(0,t.jsx)(BlogList_BlogListSection,{loading:j,articles:null==m?void 0:m.blogs.articles,isMyBlogs:p}),(0,t.jsx)(d.Z,{mt:5,loader:()=>{var e;f({variables:{...b.current,offset:(null==m?void 0:null===(e=m.blogs)||void 0===e?void 0:e.articles.length)||0},updateQuery:(e,l)=>{let{fetchMoreResult:o}=l;return o?{...e,blogs:{...e.blogs,articles:[...e.blogs.articles,...o.blogs.articles]}}:e}})},loading:j,hasMore:(null==m?void 0:null===(l=m.blogs)||void 0===l?void 0:l.totalCount)>(null==m?void 0:null===(o=m.blogs)||void 0===o?void 0:o.articles.length)})]})]})]})}},52540:function(e,l,o){o.d(l,{r:function(){return t}});var t=(0,o(97972).I)({displayName:"CheckCircleIcon",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}}]);